<!-- 高可靠性可视化系统 - 零配置自动加载 -->
  <link rel="stylesheet" href="{{ '/assets/css/reliable-visualization.css' | relative_url }}">
  <script src="{{ '/assets/js/reliable-visualization.js' | relative_url }}" defer></script>

  <!-- MathJax 数学公式支持 - 自动检测 -->
  <script>
    // 自动检测数学公式并加载MathJax
    (function() {
      const hasMath = document.querySelector('script[type="math/tex"], .math, \\(, \\[');
      if (hasMath || document.querySelector('[data-mathjax]')) {
        const script = document.createElement('script');
        script.src = 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
        script.async = true;
        document.head.appendChild(script);
        
        window.MathJax = {
          tex: {
            inlineMath: [['$', '$'], ['\\(', '\\)']],
            displayMath: [['$$', '$$'], ['\\[', '\\]']]
          }
        };
      }
    })();
  </script>
